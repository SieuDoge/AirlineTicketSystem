<UserControl
    x:Class="AirlineSystem.Checkout"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:AirlineSystem"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="600"
    d:DesignWidth="900"
    mc:Ignorable="d">

    <Grid Margin="0,0,0,-117" Background="#FFF5F5F5">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="400" />
        </Grid.ColumnDefinitions>

        <!--  Left Panel - Payment Methods  -->
        <Border
            Grid.Column="0"
            Margin="20"
            Background="White"
            BorderBrush="#FFE0E0E0"
            BorderThickness="1"
            CornerRadius="15">

            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ScrollViewer.Resources>
                    <Style TargetType="ScrollBar">
                        <Setter Property="Width" Value="6" />
                        <Setter Property="Background" Value="Transparent" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ScrollBar">
                                    <Grid>
                                        <Track
                                            x:Name="PART_Track"
                                            Width="6"
                                            HorizontalAlignment="Center"
                                            IsDirectionReversed="True">
                                            <Track.Thumb>
                                                <Thumb>
                                                    <Thumb.Template>
                                                        <ControlTemplate TargetType="Thumb">
                                                            <Border
                                                                Width="6"
                                                                Background="#FFCCCCCC"
                                                                CornerRadius="3">
                                                                <Border.Style>
                                                                    <Style TargetType="Border">
                                                                        <Style.Triggers>
                                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                                <Setter Property="Background" Value="#FF999999" />
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Border.Style>
                                                            </Border>
                                                        </ControlTemplate>
                                                    </Thumb.Template>
                                                </Thumb>
                                            </Track.Thumb>
                                        </Track>
                                    </Grid>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ScrollViewer.Resources>

                <StackPanel Margin="30">

                    <!--  Header  -->
                    <StackPanel Margin="0,0,0,25" Orientation="Horizontal">
                        <TextBlock
                            Margin="0,0,10,0"
                            VerticalAlignment="Center"
                            FontSize="32"
                            Text="💳" />
                        <TextBlock
                            VerticalAlignment="Center"
                            FontFamily="Cascadia Code"
                            FontSize="26"
                            FontWeight="Bold"
                            Foreground="#FF4A90E2"
                            Text="PAYMENT METHOD" />
                    </StackPanel>

                    <!--  MoMo Option  -->
                    <Border
                        Margin="0,0,0,15"
                        Padding="20"
                        Background="#FFF8F9FA"
                        BorderBrush="#FFE0E0E0"
                        BorderThickness="2"
                        CornerRadius="12">
                        <RadioButton x:Name="MoMoPayment" GroupName="PaymentMethod">
                            <StackPanel Orientation="Horizontal">
                                <Border
                                    Width="50"
                                    Height="50"
                                    Margin="0,0,15,0"
                                    Background="#FFE91E63"
                                    CornerRadius="8">
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="24"
                                        FontWeight="Bold"
                                        Foreground="White"
                                        Text="M" />
                                </Border>
                                <StackPanel>
                                    <TextBlock
                                        FontSize="18"
                                        FontWeight="Bold"
                                        Foreground="#FF333333"
                                        Text="MoMo E-Wallet" />
                                    <TextBlock
                                        FontSize="12"
                                        Foreground="#FF666666"
                                        Text="Fast, secure &amp; convenient" />
                                </StackPanel>
                            </StackPanel>
                        </RadioButton>
                    </Border>

                    <!--  Credit/Debit Card Option  -->
                    <Border
                        Margin="0,0,0,15"
                        Padding="20"
                        Background="#FFF8F9FA"
                        BorderBrush="#FFE0E0E0"
                        BorderThickness="2"
                        CornerRadius="12">
                        <StackPanel>
                            <RadioButton
                                x:Name="CardPayment"
                                Margin="0,0,0,15"
                                GroupName="PaymentMethod">
                                <StackPanel Orientation="Horizontal">
                                    <Border
                                        Width="50"
                                        Height="50"
                                        Margin="0,0,15,0"
                                        Background="#FF1565C0"
                                        CornerRadius="8">
                                        <TextBlock
                                            Margin="0,11,0,0"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Top"
                                            FontSize="24"
                                            Text="💳" />
                                    </Border>
                                    <StackPanel>
                                        <TextBlock
                                            FontSize="18"
                                            FontWeight="Bold"
                                            Foreground="#FF333333"
                                            Text="Credit/Debit Card" />
                                        <TextBlock
                                            FontSize="12"
                                            Foreground="#FF666666"
                                            Text="Visa, MasterCard, JCB" />
                                    </StackPanel>
                                </StackPanel>
                            </RadioButton>

                            <!--  Card Details (Hidden by default)  -->
                            <StackPanel
                                x:Name="CardDetails"
                                Margin="65,0,0,0"
                                Visibility="Collapsed">
                                <TextBox
                                    x:Name="CardNumber"
                                    Height="40"
                                    Margin="0,0,0,10"
                                    Padding="12,8"
                                    BorderBrush="#FFD0D0D0"
                                    BorderThickness="1"
                                    FontSize="14"
                                    Text="Card Number" />
                                <Grid Margin="0,0,0,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="10" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBox
                                        Grid.Column="0"
                                        Height="40"
                                        Padding="12,8"
                                        BorderBrush="#FFD0D0D0"
                                        BorderThickness="1"
                                        FontSize="14"
                                        Text="MM/YY" />
                                    <TextBox
                                        Grid.Column="2"
                                        Height="40"
                                        Padding="12,8"
                                        BorderBrush="#FFD0D0D0"
                                        BorderThickness="1"
                                        FontSize="14"
                                        Text="CVV" />
                                </Grid>
                                <TextBox
                                    Height="40"
                                    Padding="12,8"
                                    BorderBrush="#FFD0D0D0"
                                    BorderThickness="1"
                                    FontSize="14"
                                    Text="Cardholder Name" />
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!--  Cash Payment Option  -->
                    <Border
                        Margin="0,0,0,25"
                        Padding="20"
                        Background="#FFF8F9FA"
                        BorderBrush="#FFE0E0E0"
                        BorderThickness="2"
                        CornerRadius="12">
                        <RadioButton x:Name="CashPayment" GroupName="PaymentMethod">
                            <StackPanel Orientation="Horizontal">
                                <Border
                                    Width="50"
                                    Height="50"
                                    Margin="0,0,15,0"
                                    Background="#FF4CAF50"
                                    CornerRadius="8">
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="24"
                                        Text="💵" />
                                </Border>
                                <StackPanel>
                                    <TextBlock
                                        FontSize="18"
                                        FontWeight="Bold"
                                        Foreground="#FF333333"
                                        Text="Cash Payment" />
                                    <TextBlock
                                        FontSize="12"
                                        Foreground="#FF666666"
                                        Text="Pay at airport counter" />
                                </StackPanel>
                            </StackPanel>
                        </RadioButton>
                    </Border>




                    <!--  Action Buttons  -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="10" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Button
                            x:Name="Back"
                            Grid.Column="0"
                            Height="45"
                            Background="#FFE0E0E0"
                            BorderThickness="0"
                            Click="Back_Click"
                            Content="🔙 Back"
                            FontSize="16"
                            FontWeight="SemiBold"
                            Foreground="#FF333333" />

                        <Button
                            x:Name="Complete"
                            Grid.Column="2"
                            Height="45"
                            Background="#FF4CAF50"
                            BorderThickness="0"
                            Click="CompletePayment_Click"
                            Content="Complete Payment 💳"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="White" />
                    </Grid>

                </StackPanel>
            </ScrollViewer>
        </Border>

        <!--  Right Panel - Order Summary  -->
        <Border
            Grid.Column="1"
            Margin="0,20,20,20"
            Background="White"
            BorderBrush="#FFE0E0E0"
            BorderThickness="1"
            CornerRadius="15">

            <StackPanel Margin="25">

                <!--  Header  -->
                <TextBlock
                    Margin="0,0,0,20"
                    FontFamily="Cascadia Code"
                    FontSize="18"
                    FontWeight="Bold"
                    Foreground="#FF4A90E2"
                    Text="📋 ORDER SUMMARY" />

                <!--  Flight Info  -->
                <Border
                    Margin="0,0,0,15"
                    Padding="15"
                    Background="#FFF8F9FA"
                    CornerRadius="10">
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,10"
                            FontSize="14"
                            FontWeight="Bold"
                            Text="Flight Details" />
                        <TextBlock x:Name="FlightID" FontSize="12">
                            <Run Text="✈ " />
                            <Run Text="{Binding Flight.FlightNumber, Mode=OneWay}" />
                        </TextBlock>
                        <TextBlock x:Name="DPT_DST" FontSize="12">
                            <Run Text="🛫" />
                            <Run Text="{Binding Flight.Departure, Mode=OneWay}" />
                            <Run Text=" → " />
                            <Run Text="{Binding Flight.Destination, Mode=OneWay}" />
                        </TextBlock>
                        <TextBlock x:Name="Date" FontSize="12">
                            <Run Text="📅 " />
                            <Run Text="{Binding Flight.DepartureTime, Mode=OneWay, StringFormat='{}{0:dd/MM/yyyy HH:mm}'}" />
                        </TextBlock>

                    </StackPanel>
                </Border>

                <!--  Passenger Info  -->
                <Border
                    Margin="0,0,0,15"
                    Padding="15"
                    Background="#FFF8F9FA"
                    CornerRadius="10">
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,10"
                            FontSize="14"
                            FontWeight="Bold"
                            Text="Passenger" />
                        <TextBlock x:Name="name" FontSize="12">
                            <Run Text="👤 " />
                            <Run Text="{Binding Passenger.Name}" />
                        </TextBlock>
                        <TextBlock x:Name="Phone" FontSize="12">
                            <Run Text="📞 " />
                            <Run Text="{Binding Passenger.PhoneNumber}" />
                        </TextBlock>
                        <TextBlock x:Name="email" FontSize="12">
                            <Run Text="✉️ " />
                            <Run Text="{Binding Passenger.Email}" />
                        </TextBlock>
                    </StackPanel>
                </Border>

                <!--  Price Breakdown  -->
                <Border
                    Margin="0,0,0,20"
                    Padding="15"
                    Background="#FFF8F9FA"
                    CornerRadius="10">
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,10"
                            FontSize="14"
                            FontWeight="Bold"
                            Text="Price Breakdown" />

                        <Grid Margin="0,5">
                            <TextBlock FontSize="12">
                                <Run Text="🎫 " />
                                <Run Text="{Binding Ticket.TicketTypeName, Mode=OneWay, FallbackValue='(no ticket)'}" />
                                <Run Text="{Binding NonTax, Mode=OneWay, StringFormat='{}{0:C}'}" />

                            </TextBlock>

                            <TextBlock HorizontalAlignment="Right" FontSize="12" />
                        </Grid>

                        <Grid Margin="0,5">
                            <TextBlock FontSize="12">
                                <Run Text="Taxes " />
                                <Run Text="{Binding TaxAmount, Mode=OneWay, StringFormat='{}{0:F2} USD'}" />
                                <Run Text=" (10%)" />
                            </TextBlock>
                            <TextBlock HorizontalAlignment="Right" FontSize="12" />
                        </Grid>

                        <Rectangle
                            Height="1"
                            Margin="0,10"
                            Fill="#FFE0E0E0" />

                        <Grid>
                            <TextBlock FontSize="12">
                                <Run Text="Total: " />
                                <Run Text="{Binding Ticket.TicketPrice, Mode=OneWay, StringFormat='{}{0:F2} USD'}" />

                            </TextBlock>
                            <TextBlock
                                HorizontalAlignment="Right"
                                FontSize="16"
                                FontWeight="Bold"
                                Foreground="#FF4CAF50" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!--  Security Notice  -->
                <Border
                    Padding="12"
                    Background="#FFF3E5F5"
                    BorderBrush="#FFE1BEE7"
                    BorderThickness="1"
                    CornerRadius="8">
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,5"
                            FontSize="12"
                            FontWeight="Bold"
                            Foreground="#FF7B1FA2"
                            Text="🔒 Secure Payment" />
                        <TextBlock
                            FontSize="10"
                            Foreground="#FF7B1FA2"
                            Text="Your payment information is encrypted and secure"
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Border>

            </StackPanel>
        </Border>

    </Grid>
</UserControl>