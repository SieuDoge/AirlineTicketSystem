<UserControl
    x:Class="AirlineSystem.DataList"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:AirlineSystem"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="600"
    d:DesignWidth="900"
    mc:Ignorable="d">

    <Grid Background="#FFF5F7FA">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!--  Header  -->
        <Border
            Grid.Row="0"
            Height="70"
            Background="#FF2E3B4E">
            <Grid Margin="30,0">
                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                    <TextBlock
                        x:Name="HeaderIcon"
                        Margin="0,0,15,0"
                        VerticalAlignment="Center"
                        FontSize="28"
                        Text="✈️" />
                    <StackPanel>
                        <TextBlock
                            x:Name="HeaderTitle"
                            FontFamily="Cascadia Code"
                            FontSize="22"
                            FontWeight="Bold"
                            Foreground="White"
                            Text="ALL FLIGHTS" />
                        <TextBlock
                            x:Name="HeaderSubtitle"
                            FontSize="11"
                            Foreground="#CCFFFFFF"
                            Text="Manage and view all flight information" />
                    </StackPanel>
                </StackPanel>

                <!--  Back Button  -->
                <Border
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Background="#FF4A90E2"
                    CornerRadius="6">
                    <Button
                        x:Name="BackButton"
                        Padding="15,8"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="BackButton_Click"
                        Content="🔙 Back to Manager"
                        FontSize="12"
                        FontWeight="SemiBold"
                        Foreground="White" />
                </Border>
            </Grid>
        </Border>

        <!--  Search and Filter Bar  -->
        <Border
            Grid.Row="1"
            Padding="30,15"
            Background="White"
            BorderBrush="#FFE0E6ED"
            BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!--  Search Box  -->
                <Border
                    Grid.Column="0"
                    MaxWidth="400"
                    Padding="12,8"
                    HorizontalAlignment="Left"
                    Background="#FFF8F9FA"
                    BorderBrush="#FFE0E6ED"
                    BorderThickness="1"
                    CornerRadius="8">
                    <Grid>
                        <TextBox
                            x:Name="SearchBox"
                            VerticalAlignment="Center"
                            Background="Transparent"
                            BorderThickness="0"
                            FontSize="14"
                            TextChanged="SearchBox_TextChanged" />
                        <TextBlock
                            x:Name="SearchPlaceholder"
                            VerticalAlignment="Center"
                            FontSize="14"
                            Foreground="#FF999999"
                            IsHitTestVisible="False"
                            Text="🔍 Search flights..." />
                    </Grid>
                </Border>

                <!--  Filter Button  -->
                <Border
                    Grid.Column="1"
                    Margin="15,0,10,0"
                    Background="#FF50C878"
                    CornerRadius="8">
                    <Button
                        x:Name="FilterButton"
                        Padding="15,8"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="FilterButton_Click"
                        Content="🔽 Filter"
                        FontSize="14"
                        FontWeight="SemiBold"
                        Foreground="White" />
                </Border>

                <!--  Add New Button  -->
                <Border
                    Grid.Column="2"
                    Background="#FFE91E63"
                    CornerRadius="8">
                    <Button
                        x:Name="AddNewButton"
                        Padding="15,8"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="AddNewButton_Click"
                        Content="➕ Add New"
                        FontSize="14"
                        FontWeight="SemiBold"
                        Foreground="White" />
                </Border>
            </Grid>
        </Border>

        <!--  Data Grid  -->
        <Border
            Grid.Row="2"
            Margin="30,20,30,20"
            Background="White"
            BorderBrush="#FFE0E6ED"
            BorderThickness="1"
            CornerRadius="12">
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="15"
                    Direction="315"
                    Opacity="0.1"
                    ShadowDepth="5"
                    Color="#22000000" />
            </Border.Effect>

            <DataGrid
                x:Name="MainDataGrid"
                AlternatingRowBackground="#FFF8F9FA"
                AutoGenerateColumns="False"
                Background="Transparent"
                BorderThickness="0"
                CanUserAddRows="False"
                CanUserDeleteRows="False"
                CanUserReorderColumns="False"
                CanUserResizeRows="False"
                FontSize="13"
                GridLinesVisibility="None"
                HeadersVisibility="Column"
                RowBackground="White"
                SelectionMode="Single">

                <!--  Custom Header Style  -->
                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#FF2E3B4E" />
                        <Setter Property="Foreground" Value="White" />
                        <Setter Property="FontWeight" Value="Bold" />
                        <Setter Property="FontSize" Value="14" />
                        <Setter Property="Height" Value="45" />
                        <Setter Property="Padding" Value="15,0" />
                        <Setter Property="HorizontalContentAlignment" Value="Left" />
                        <Setter Property="BorderBrush" Value="#FF4A5568" />
                        <Setter Property="BorderThickness" Value="0,0,1,0" />
                    </Style>
                </DataGrid.ColumnHeaderStyle>

                <!--  Custom Row Style  -->
                <DataGrid.RowStyle>
                    <Style TargetType="DataGridRow">
                        <Setter Property="Height" Value="50" />
                        <Setter Property="BorderBrush" Value="#FFE0E6ED" />
                        <Setter Property="BorderThickness" Value="0,0,0,1" />
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FFE6F3FF" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#FFD1ECF1" />
                                <Setter Property="BorderBrush" Value="#FF4A90E2" />
                                <Setter Property="BorderThickness" Value="2,0,0,1" />
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.RowStyle>

                <!--  Custom Cell Style  -->
                <DataGrid.CellStyle>
                    <Style TargetType="DataGridCell">
                        <Setter Property="BorderThickness" Value="0" />
                        <Setter Property="Padding" Value="15,8" />
                        <Setter Property="VerticalContentAlignment" Value="Center" />
                        <Style.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="Transparent" />
                                <Setter Property="Foreground" Value="#FF333333" />
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.CellStyle>

                <!--  Flight Columns (will be dynamically replaced based on data type)  -->
                <DataGrid.Columns>
                    <DataGridTextColumn
                        Width="100"
                        Binding="{Binding FlightNumber}"
                        Header="Flight ID" />
                    <DataGridTextColumn
                        Width="120"
                        Binding="{Binding Departure}"
                        Header="From" />
                    <DataGridTextColumn
                        Width="120"
                        Binding="{Binding Destination}"
                        Header="To" />
                    <DataGridTextColumn
                        Width="140"
                        Binding="{Binding DepartureTime, StringFormat='{}{0:MM/dd/yyyy HH:mm}'}"
                        Header="Departure" />
                    <DataGridTextColumn
                        Width="140"
                        Binding="{Binding ArrivalTime, StringFormat='{}{0:MM/dd/yyyy HH:mm}'}"
                        Header="Arrival" />
                    <DataGridTextColumn
                        Width="100"
                        Binding="{Binding Status}"
                        Header="Status" />

                    <!--  Actions  -->
                    <DataGridTemplateColumn Width="120" Header="Actions">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Border
                                        Margin="2"
                                        Background="#FF4A90E2"
                                        CornerRadius="4">
                                        <Button
                                            Padding="6,4"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            Content="✏️"
                                            FontSize="12"
                                            Foreground="White"
                                            ToolTip="Edit" />
                                    </Border>
                                    <Border
                                        Margin="2"
                                        Background="#FFDC3545"
                                        CornerRadius="4">
                                        <Button
                                            Padding="6,4"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            Content="🗑️"
                                            FontSize="12"
                                            Foreground="White"
                                            ToolTip="Delete" />
                                    </Border>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!--  Footer with Pagination  -->
        <Border
            Grid.Row="3"
            Padding="30,15"
            Background="White"
            BorderBrush="#FFE0E6ED"
            BorderThickness="0,1,0,0">
            <Grid>
                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                    <TextBlock
                        x:Name="RecordCount"
                        VerticalAlignment="Center"
                        FontSize="12"
                        Foreground="#FF666666"
                        Text="Showing 25 of 156 flights" />
                </StackPanel>

                <!--  Pagination  -->
                <StackPanel
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <Border
                        Margin="5,0"
                        Background="#FFE0E6ED"
                        CornerRadius="4">
                        <Button
                            Padding="10,6"
                            Background="Transparent"
                            BorderThickness="0"
                            Content="◀"
                            FontSize="12"
                            Foreground="#FF666666" />
                    </Border>

                    <Border
                        Margin="2,0"
                        Background="#FF4A90E2"
                        CornerRadius="4">
                        <Button
                            Padding="10,6"
                            Background="Transparent"
                            BorderThickness="0"
                            Content="1"
                            FontSize="12"
                            FontWeight="Bold"
                            Foreground="White" />
                    </Border>

                    <Border
                        Margin="2,0"
                        Background="#FFE0E6ED"
                        CornerRadius="4">
                        <Button
                            Padding="10,6"
                            Background="Transparent"
                            BorderThickness="0"
                            Content="2"
                            FontSize="12"
                            Foreground="#FF666666" />
                    </Border>

                    <Border
                        Margin="2,0"
                        Background="#FFE0E6ED"
                        CornerRadius="4">
                        <Button
                            Padding="10,6"
                            Background="Transparent"
                            BorderThickness="0"
                            Content="3"
                            FontSize="12"
                            Foreground="#FF666666" />
                    </Border>

                    <Border
                        Margin="5,0"
                        Background="#FFE0E6ED"
                        CornerRadius="4">
                        <Button
                            Padding="10,6"
                            Background="Transparent"
                            BorderThickness="0"
                            Content="▶"
                            FontSize="12"
                            Foreground="#FF666666" />
                    </Border>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>